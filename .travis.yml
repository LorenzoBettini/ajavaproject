sudo: false

language: java

matrix:
  include:
    - jdk: oraclejdk8
      env: WITH_COVERALLS=true
    - jdk: openjdk6
    - os: osx
      osx_image: xcode8

cache:
  directories:
  - $HOME/.m2

install: true

script:
 - if [ "$WITH_COVERALLS" == "true" ];
   then
     mvn -f com.examples.myproject/pom.xml clean verify -Pjacoco coveralls:report;
   else
     mvn -f com.examples.myproject/pom.xml clean verify;
   fi

